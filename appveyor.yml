version: '{build}'
clone_folder: /home/appveyor/projects/udm_standalone
image:
- Ubuntu
configuration:
- RelWithDebInfo

matrix:
  fast_finish: true

install:
  - cd /home/appveyor/projects/udm_standalone
  - git submodule update --init --recursive

platform:
  - x64

environment:
  APPVEYOR_YML_DISABLE_PS_LINUX: true

install:
  - ps: .\install-dependency.ps1
  - sh: ./install-dependency.sh

before_build:
- sh: |-
    cd /home/appveyor/projects/udm_standalone
    mkdir build
    ls
    cd build
    cmake -DCMAKE_BUILD_TYPE=%CONFIGURATION% .. -G %generator%

build_script:
  make
